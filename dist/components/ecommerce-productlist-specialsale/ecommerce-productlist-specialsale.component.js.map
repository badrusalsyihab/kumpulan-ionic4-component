{"version":3,"file":"ecommerce-productlist-specialsale.component.js","sourceRoot":"","sources":["../../../src/components/ecommerce-productlist-specialsale/ecommerce-productlist-specialsale.component.ts"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EAAE,SAAS,EAAU,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,MAAM,eAAe,CAAC;AAC/E,IAAM,aAAa,GAAG,02EAqDrB,CAAC;AAEF,IAAM,SAAS,GAAG,+xHAoJjB,CAAC;AAMF;IAOE;QANA,cAAS,GAAG,CAAC,CAAC;QACd,eAAU,GAAG,CAAC,CAAC;QACN,YAAO,GAAQ;YACtB,QAAQ,EAAE,EAAE;SACb,CAAC;QACQ,mBAAc,GAAG,IAAI,YAAY,EAAE,CAAC;IAC9B,CAAC;IAEjB,2DAAQ,GAAR;IACA,CAAC;IAED,wEAAqB,GAArB,UAAsB,IAAI;QACxB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IAED,sEAAmB,GAAnB,UAAoB,IAAI;QACtB,OAAO,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC;IACxC,CAAC;IAfQ;QAAR,KAAK,EAAE;;6EAEN;IACQ;QAAT,MAAM,EAAE;;oFAAqC;IANnC,wCAAwC;QALpD,SAAS,CAAC;YACT,QAAQ,EAAE,uCAAuC;YACjD,QAAQ,EAAE,aAAa;YACvB,MAAM,EAAE,CAAC,SAAS,CAAC;SACpB,CAAC;;OACW,wCAAwC,CAoBpD;IAAD,+CAAC;CAAA,AApBD,IAoBC;SApBY,wCAAwC","sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nconst HTML_TEMPLATE = `\r\n<ion-list lines=\"none\">\r\n  <ion-item *ngFor=\"let item of product.products\" (click)=\"selectItemSpecialsale(item)\">\r\n    <ion-thumbnail slot=\"start\">\r\n      <div class=\"relative\">\r\n        <img src=\"{{item.image.url}}\">\r\n        <div *ngIf=\"item.sale === item.stock\" class=\"pocentage-sale\">\r\n          <img src=\"../assets/icon/tagOutOfStock.png\">\r\n          <p class=\"pocentage-text\">สินค้าหมด</p>\r\n        </div>\r\n        <div *ngIf=\"item.sale !== item.stock\" class=\"pocentage-sale\">\r\n          <img src=\"../assets/icon/tagIcon.png\">\r\n          <div class=\"percentage\">\r\n            <p class=\"pocentage-font\">{{item.percentage}}% </p>\r\n            <p class=\"pocentage-font-sub\">ลด</p>\r\n          </div>\r\n          <!-- <p class=\"pocentage-text-color\">{{item.percentage}}% </p> -->\r\n          <!-- <p class=\"pocentage-text-color-po\">ลด</p> -->\r\n        </div>\r\n      </div>\r\n    </ion-thumbnail>\r\n    <ion-label style=\"height: 100%\">\r\n      <div padding-top>\r\n        <h2>{{item.name}}</h2>\r\n        <p class=\"original-price\">{{item.pricetext}}</p>\r\n        <p class=\"current-price\">{{item.newprice}}</p>\r\n        <div *ngIf=\"item.sale !== item.stock\">\r\n          <ion-row>\r\n            <ion-col size=\"10\" class=\"col-center\">\r\n              <div class=\"progress\">\r\n                <div class=\"progress-bar progress-bar-striped\" [style.width]=\"calculatePercentBar(item) + '%'\">\r\n                  <p class=\"text-center\">ขายแล้ว {{item.sale}}</p>\r\n                </div>\r\n                <div class=\"flash-sale\"></div>\r\n              </div>\r\n            </ion-col>\r\n            <ion-col size=\"2\" class=\"button-size\">\r\n              <ion-button color=\"danger\" expand=\"block\">ซื้อ</ion-button>\r\n            </ion-col>\r\n          </ion-row>\r\n        </div>\r\n        <div *ngIf=\"item.sale === item.stock\">\r\n          <ion-row>\r\n            <ion-col size=\"7\" class=\"col-center\">\r\n              <p class=\"textno\">{{item.stock}} ชิ้น หมดใน 10 นาที</p>\r\n            </ion-col>\r\n            <img class=\"positionsaled\" src=\"../assets//icon//outofstock.png\">\r\n          </ion-row>\r\n        </div>\r\n      </div>\r\n    </ion-label>\r\n  </ion-item>\r\n</ion-list>\r\n`;\r\n\r\nconst CSS_STYLE = `\r\nion-item {\r\n  width: 100%;\r\n  padding: 10px;\r\n  background-color: #FFFFFF;\r\n  ion-thumbnail {\r\n      width: 30%;\r\n      height: 25%;\r\n      .pocentage-sale {\r\n          position: absolute; // height: 35%;\r\n          width: 18%;\r\n          min-width: 40px; // left: 82px;\r\n          top: 16px;\r\n          right: 0;\r\n          .pocentage-text {\r\n              top: -13px;\r\n              position: absolute;\r\n              right: -1px;\r\n              font-size: 14px;\r\n              font-weight: 300;\r\n              text-align: center;\r\n              color: #fff;\r\n          }\r\n          .pocentage-text-color {\r\n              top: -13px;\r\n              position: absolute; // right: -1px;\r\n              font-size: 14px;\r\n              font-weight: bold; // text-align: center;\r\n              color: rgb(255, 38, 0);\r\n              .pocentage-text-color-po {\r\n                  color: #fff;\r\n                  font-weight: bold;\r\n                  font-size: 14px !important;\r\n              }\r\n          }\r\n      }\r\n  }\r\n  .original-price {\r\n      text-decoration-line: line-through;\r\n      color: rgba(0, 0, 0, .26)\r\n  }\r\n  .current-price {\r\n      font-size: 1.125rem; // color: #ff5722;\r\n      color: rgb(255, 38, 0);\r\n      font-weight: 500;\r\n  }\r\n  .col-center {\r\n      align-items: center !important;\r\n  }\r\n  h2 {\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n      display: block;\r\n      width: 100%;\r\n      min-width: 1px;\r\n      // font-size: 4.5vw;\r\n      font-size: .995rem;\r\n      font-family: -apple-system, Helvetica Neue, Helvetica, Roboto, Droid Sans, Arial, sans-serif;\r\n      font-weight: 400;\r\n      height: 2.25rem;\r\n  }\r\n  .positionsaled {\r\n      position: absolute;\r\n      z-index: 9999;\r\n      width: 44%;\r\n      top: 34px;\r\n      right: 12px;\r\n  }\r\n  .textno {\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n      display: block;\r\n      width: 100%;\r\n      min-width: 1px;\r\n      color: #999;\r\n      font-size: 2.5vw;\r\n  }\r\n  .progress {\r\n      // height: 20px;\r\n      height: .985rem;\r\n      margin-top: 8px;\r\n      overflow: hidden; // background-color: rgb(255, 189, 166);\r\n      background: rgba(255, 87, 34, .16);\r\n      border-radius: 20px;\r\n      -webkit-box-shadow: inset 0 1px 2px rgba(0, 0, 0, .1);\r\n      box-shadow: inset 0 1px 2px rgba(0, 0, 0, .1);\r\n      .progress-bar {\r\n          float: left;\r\n          width: 0;\r\n          height: 100%;\r\n          font-size: 12px;\r\n          // line-height: 20px;\r\n          color: #fff;\r\n          text-align: center; // background-color: #f25454;\r\n          background-image: -webkit-linear-gradient(left, rgb(236, 31, 22), rgb(255, 172, 0)); // -webkit-box-shadow: inset 0 -1px 0 rgba(0,0,0,.15);\r\n          -webkit-transition: width .6s ease;\r\n          -o-transition: width .6s ease;\r\n          transition: width .6s ease;\r\n      }\r\n      .text-center {\r\n          position: absolute;\r\n          margin: auto;\r\n          left: 0;\r\n          right: 0;\r\n          color: #fff;\r\n          font-size: .785rem;\r\n      }\r\n      .flash-sale {\r\n          background: url(https://cdngarenanow-a.akamaihd.net/shopee/shopee-pcmall-live-th/assets/d224da21491f6660be6e020e12aff419.png) 0 no-repeat;\r\n          width: 18px;\r\n          height: 21px;\r\n          background-size: contain;\r\n          position: absolute;\r\n          margin-top: -10px;\r\n          margin-left: 5px\r\n      }\r\n  }\r\n  .button-size {\r\n      padding-left: 0px !important;\r\n      padding-right: 0px !important;\r\n  }\r\n}\r\n\r\n.relative {\r\n  position: relative;\r\n}\r\n\r\n.percentage {\r\n  width: 100%;\r\n  text-align: center;\r\n  position: absolute;\r\n  top: 0;\r\n  line-height: 0;\r\n}\r\n\r\n.pocentage-font {\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  color: rgb(255, 38, 0);\r\n}\r\n\r\n.pocentage-font-sub {\r\n  color: #fff;\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n}\r\n`;\r\n@Component({\r\n  selector: 'app-ecommerce-productlist-specialsale',\r\n  template: HTML_TEMPLATE,\r\n  styles: [CSS_STYLE]\r\n})\r\nexport class EcommerceProductlistSpecialsaleComponent implements OnInit {\r\n  masterBar = 0;\r\n  procentBar = 0;\r\n  @Input() product: any = {\r\n    products: []\r\n  };\r\n  @Output() outSpecialsale = new EventEmitter();\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  selectItemSpecialsale(item) {\r\n    this.outSpecialsale.emit(item);\r\n  }\r\n\r\n  calculatePercentBar(item) {\r\n    return (item.sale / item.stock) * 100;\r\n  }\r\n\r\n}\r\n"]}